(()=>{"use strict";!function(t){t(".widgetizer-field-type-sortable").each((function(e,i){const n=t(this);n.sortableContainer=n.find("ul.sortable").first(),n.updateValue=()=>{const e=n.sortableContainer.find('input[type="hidden"]'),i=[];n.sortableContainer.find("li").each((function(){t(this).is(".invisible")||i.push(t(this).data("value"))})),e.val(i.join(","))},n.sortableContainer.sortable({stop(){n.updateValue()}}).disableSelection().find("li").each((function(){t(this).find("i.visibility").on("click",(function(){t(this).toggleClass("dashicons-visibility-faint").parents("li:eq(0)").toggleClass("invisible")}))})).click((function(){n.updateValue()}))}));const e=document.querySelectorAll(".widgetizer-field-refs a");e&&e.forEach((t=>{t.addEventListener("click",(function(e){e.preventDefault();const i=t.closest(".widgetizer-field");if(i){const e=i.querySelector('input[type="number"]');if(e){const n=t.getAttribute("data-val");e.value=n;const l=i.closest("form");l&&HTMLFormElement.prototype.submit.call(l)}}}))}))}(jQuery)})();