(()=>{"use strict";!function(t){t(".widgetizer-field-type-sortable").each((function(e,i){const n=t(this);n.sortableContainer=n.find("ul.sortable").first(),n.updateValue=()=>{const e=n.sortableContainer.find('input[type="hidden"]'),i=[];n.sortableContainer.find("li").each((function(){t(this).is(".invisible")||i.push(t(this).data("value"))})),e.val(i.join(","))},n.sortableContainer.sortable({stop(){n.updateValue()}}).disableSelection().find("li").each((function(){t(this).find("i.visibility").on("click",(function(){t(this).toggleClass("dashicons-visibility-faint").parents("li:eq(0)").toggleClass("invisible")}))})).on("click",(function(){n.updateValue()}))}));const e=document.querySelectorAll(".widgetizer-field-refs a");e&&e.forEach((t=>{t.addEventListener("click",(function(e){e.preventDefault();const i=t.closest(".widgetizer-field"),n=t.closest(".widgetizer-field-refs"),l=JSON.parse(n.getAttribute("data-ref"));if(i){const e=i.querySelector('input[type="number"]');if(e){const n=t.getAttribute("data-val");if(e.value=n,!0===l.submitter){const t=i.closest("form");t&&HTMLFormElement.prototype.submit.call(t)}}}}))}));const i=document.querySelectorAll(".widgetizer-field-type-buttonset");i&&i.forEach((t=>{if(!0===JSON.parse(t.getAttribute("data-wfdata")).submitter){t.querySelectorAll("input").forEach((t=>{t.addEventListener("click",(function(e){const i=t.closest("form");i&&HTMLFormElement.prototype.submit.call(i)}))}))}}))}(jQuery)})();