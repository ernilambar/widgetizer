(()=>{"use strict";!function(t){t(".ticktor-field-type-sortable").each((function(i,e){const n=t(this);n.sortableContainer=n.find("ul.sortable").first(),n.updateValue=()=>{const i=n.sortableContainer.find('input[type="hidden"]'),e=[];n.sortableContainer.find("li").each((function(){t(this).is(".invisible")||e.push(t(this).data("value"))})),i.val(e.join(","))},n.sortableContainer.sortable({stop(){n.updateValue()}}).disableSelection().find("li").each((function(){t(this).find("i.visibility").on("click",(function(){t(this).toggleClass("dashicons-visibility-faint").parents("li:eq(0)").toggleClass("invisible")}))})).click((function(){n.updateValue()}))}));const i=document.querySelectorAll(".ticktor-field-refs a");i&&i.forEach((t=>{t.addEventListener("click",(function(i){i.preventDefault();const e=t.closest(".ticktor-field");if(e){const i=e.querySelector('input[type="number"]');if(i){const n=t.getAttribute("data-val");i.value=n;const o=e.closest("form");o&&HTMLFormElement.prototype.submit.call(o)}}}))}))}(jQuery)})();